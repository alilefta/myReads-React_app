(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,a){e.exports=a(34)},25:function(e,t,a){},32:function(e,t,a){},34:function(e,t,a){"use strict";a.r(t);var o=a(1),n=a.n(o),l=a(18),s=a.n(l),r=a(4),i=a(5),c=a(7),u=a(6),h=a(8),m=(a(25),a(0)),p=[{id:"1",shelf:"currentlyReading",title:"To Kill a Mockingbird",authors:["Harper Lee"],imageLinks:{thumbnail:"http://books.google.com/books/content?id=PGR2AwAAQBAJ&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE73-GnPVEyb7MOCxDzOYF1PTQRuf6nCss9LMNOSWBpxBrz8Pm2_mFtWMMg_Y1dx92HT7cUoQBeSWjs3oEztBVhUeDFQX6-tWlWz1-feexS0mlJPjotcwFqAg6hBYDXuK_bkyHD-y&source=gbs_api"}},{id:"2",shelf:"currentlyReading",title:"Ender's Game",authors:["Orson Scott Card"],imageLinks:{thumbnail:"http://books.google.com/books/content?id=yDtCuFHXbAYC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72RRiTR6U5OUg3IY_LpHTL2NztVWAuZYNFE8dUuC0VlYabeyegLzpAnDPeWxE6RHi0C2ehrR9Gv20LH2dtjpbcUcs8YnH5VCCAH0Y2ICaKOTvrZTCObQbsfp4UbDqQyGISCZfGN&source=gbs_api"}},{id:"3",shelf:"wantToRead",title:"1776",authors:["David McCullough"],imageLinks:{thumbnail:"http://books.google.com/books/content?id=uu1mC6zWNTwC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE73pGHfBNSsJG9Y8kRBpmLUft9O4BfItHioHolWNKOdLavw-SLcXADy3CPAfJ0_qMb18RmCa7Ds1cTdpM3dxAGJs8zfCfm8c6ggBIjzKT7XR5FIB53HHOhnsT7a0Cc-PpneWq9zX&source=gbs_api"}},{id:"4",shelf:"wantToRead",title:"Harry Potter and the Sorcerer's Stone",authors:["J.K. Rowling"],imageLinks:{thumbnail:"http://books.google.com/books/content?id=wrOQLV6xB-wC&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72G3gA5A-Ka8XjOZGDFLAoUeMQBqZ9y-LCspZ2dzJTugcOcJ4C7FP0tDA8s1h9f480ISXuvYhA_ZpdvRArUL-mZyD4WW7CHyEqHYq9D3kGnrZCNiqxSRhry8TiFDCMWP61ujflB&source=gbs_api"}},{id:"5",shelf:"read",title:"The Hobbit",authors:["J.R.R. Tolkien"],imageLinks:{thumbnail:"http://books.google.com/books/content?id=pD6arNyKyi8C&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE70Rw0CCwNZh0SsYpQTkMbvz23npqWeUoJvVbi_gXla2m2ie_ReMWPl0xoU8Quy9fk0Zhb3szmwe8cTe4k7DAbfQ45FEzr9T7Lk0XhVpEPBvwUAztOBJ6Y0QPZylo4VbB7K5iRSk&source=gbs_api"}},{id:"6",shelf:"read",title:"Oh, the Places You'll Go!",authors:["Seuss"],imageLinks:{thumbnail:"http://books.google.com/books/content?id=1q_xAwAAQBAJ&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE712CA0cBYP8VKbEcIVEuFJRdX1k30rjLM29Y-dw_qU1urEZ2cQ42La3Jkw6KmzMmXIoLTr50SWTpw6VOGq1leINsnTdLc_S5a5sn9Hao2t5YT7Ax1RqtQDiPNHIyXP46Rrw3aL8&source=gbs_api"}},{id:"7",shelf:"read",title:"The Adventures of Tom Sawyer",authors:["Mark Twain"],imageLinks:{thumbnail:"http://books.google.com/books/content?id=32haAAAAMAAJ&printsec=frontcover&img=1&zoom=1&imgtk=AFLRE72yckZ5f5bDFVIf7BGPbjA0KYYtlQ__nWB-hI_YZmZ-fScYwFy4O_fWOcPwf-pgv3pPQNJP_sT5J_xOUciD8WaKmevh1rUR-1jk7g1aCD_KeJaOpjVu0cm_11BBIUXdxbFkVMdi&source=gbs_api"}}],d=function(e){function t(){return Object(r.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("h1",null,"404"),n.a.createElement("h2",null,"This page Not Found "))}}]),t}(n.a.Component),k=a(9),b=a(15),g="https://reactnd-books-api.udacity.com",f=localStorage.token;f||(f=localStorage.token=Math.random().toString(36).substr(-8));var v={Accept:"application/json",Authorization:f},E=function(e){return fetch("".concat(g,"/search"),{method:"POST",headers:Object(b.a)({},v,{"Content-Type":"application/json"}),body:JSON.stringify({query:e})}).then(function(e){return e.json()}).then(function(e){return e.books})},y=function(e){function t(){var e,a;Object(r.a)(this,t);for(var o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).handleChange=function(e){a.props.handleChange(e)},a.onDeleteBook=function(e){a.props.onDeleteBook(e)},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this,t=this.props.bookDetails;return n.a.createElement("div",{className:"book"},n.a.createElement("div",{className:"book-top"},n.a.createElement("div",{className:"book-cover",style:{width:128,height:192,backgroundImage:"url(".concat(t.imageLinks.thumbnail,")")}}),n.a.createElement("div",{className:"book-shelf-changer"},"main"===this.props.pageType?n.a.createElement("select",{onChange:this.handleChange,value:t.shelf},n.a.createElement("option",{value:"move",disabled:!0},"Move to..."),n.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),n.a.createElement("option",{value:"wantToRead"},"Want to Read"),n.a.createElement("option",{value:"read"},"Read"),n.a.createElement("option",{value:"none"},"None")):n.a.createElement("select",{onChange:this.handleChange,value:"none"},n.a.createElement("option",{value:"move",disabled:!0},"Move to..."),n.a.createElement("option",{value:"currentlyReading"},"Currently Reading"),n.a.createElement("option",{value:"wantToRead"},"Want to Read"),n.a.createElement("option",{value:"read"},"Read"),n.a.createElement("option",{value:"none"},"None")))),n.a.createElement("div",{className:"book-title"},t.title),n.a.createElement("div",{className:"book-authors"},t.authors),this.props.handleDelete&&n.a.createElement("button",{className:"deleteBook",onClick:function(t){return e.onDeleteBook(t)}},"X"))}}]),t}(o.Component),B=function(e){function t(e){var a;return Object(r.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).updateHandler=function(e,t){a.props.updateBooks(e,t)},a.handleChange=function(e,t,o){a.updateHandler(e,t),a.props.handleChange(e,t,o)},a.handleSearch=function(e){a.setState({query:e.target.value}),""!==e.target.value?a.searchTerm(a.state.query):a.setState({books:[]})},a.searchTerm=function(e){E(e).then(function(e){return a.setState({books:e})}).catch(function(e){return console.log(e)}),setInterval(function(){a.state.books},3e3)},a.state={query:"",books:[]},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return console.log(this.state),n.a.createElement("div",{className:"search-books"},n.a.createElement("div",{className:"search-books-bar"},n.a.createElement(k.b,{className:"close-search",to:"/"},"Close"),n.a.createElement("div",{className:"search-books-input-wrapper"},n.a.createElement("input",{type:"text",onChange:function(t){return e.handleSearch(t)},placeholder:"Search by title or author"}))),n.a.createElement("div",{className:"search-books-results"},n.a.createElement("ol",{className:"books-grid"},"object"===typeof this.state.books?this.state.books.length>0&&""!==this.state.books?this.state.books.map(function(t){return n.a.createElement("li",{key:t.id},t.hasOwnProperty("imageLinks")?n.a.createElement(y,{pageType:e.props.pageType,bookDetails:t,handleChange:function(a){return e.handleChange(a,t,t.id)}}):"")}):n.a.createElement("h1",{className:"lead"},"No Books with this term, try to use another phrase"):"")))}}]),t}(o.Component),C=function(e){function t(){var e,a;Object(r.a)(this,t);for(var o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).handleChange=function(e,t,o){a.props.handleChange(e,t,o)},a.onDeleteBook=function(e,t){a.props.onDeleteBook(e,t)},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"list-books"},n.a.createElement("div",{className:"list-books-title"},n.a.createElement("h1",null,"MyReads")),n.a.createElement("div",{className:"list-books-content"},n.a.createElement("div",null,n.a.createElement("div",{className:"bookshelf"},n.a.createElement("h2",{className:"bookshelf-title"},"Currently Reading"),n.a.createElement("div",{className:"bookshelf-books"},n.a.createElement("ol",{className:"books-grid"},this.props.allBooks?this.props.allBooks.map(function(t){return"currentlyReading"===t.shelf&&n.a.createElement("li",{key:t.id},n.a.createElement(y,{pageType:e.props.pageType,bookDetails:t,handleDelete:!0,onDeleteBook:function(a){return e.onDeleteBook(a,t)},handleChange:function(a){return e.handleChange(a,t,t.id)}}))}):""))),n.a.createElement("div",{className:"bookshelf"},n.a.createElement("h2",{className:"bookshelf-title"},"Want to Read"),n.a.createElement("div",{className:"bookshelf-books"},n.a.createElement("ol",{className:"books-grid"},this.props.allBooks?this.props.allBooks.map(function(t){return"wantToRead"===t.shelf&&n.a.createElement("li",{key:t.id},n.a.createElement(y,{pageType:e.props.pageType,bookDetails:t,handleDelete:!0,onDeleteBook:function(a){return e.onDeleteBook(a,t)},handleChange:function(a){return e.handleChange(a,t,t.id)}}))}):""))),n.a.createElement("div",{className:"bookshelf"},n.a.createElement("h2",{className:"bookshelf-title"},"Read"),n.a.createElement("div",{className:"bookshelf-books"},n.a.createElement("ol",{className:"books-grid"},this.props.allBooks?this.props.allBooks.map(function(t){return"read"===t.shelf&&n.a.createElement("li",{key:t.id},n.a.createElement(y,{pageType:e.props.pageType,bookDetails:t,handleDelete:!0,onDeleteBook:function(a){return e.onDeleteBook(a,t)},handleChange:function(a){return e.handleChange(a,t,t.id)}}))}):""))))),n.a.createElement("div",{className:"open-search"},n.a.createElement(k.b,{to:"/search"},"Add a book")))}}]),t}(o.Component),N=function(e){function t(){var e,a;Object(r.a)(this,t);for(var o=arguments.length,n=new Array(o),l=0;l<o;l++)n[l]=arguments[l];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(n)))).state={allBooks:p},a.onDeleteBook=function(e){a.state.allBooks&&a.state.allBooks.map(function(t){return t.id===e.id?a.setState({allBooks:a.state.allBooks.filter(function(t){return t.id!==e.id})}):t})},a.handleChange=function(e,t){var o=e.target.value;if(a.state.allBooks){var n=a.state.allBooks.slice();a.setState({allBooks:n.map(function(e){return t.id===e.id?"none"!==o?{id:e.id,shelf:o,title:e.title,authors:e.authors,imageLinks:{thumbnail:e.imageLinks.thumbnail}}:{id:e.id,shelf:e.shelf,title:e.title,authors:e.authors,imageLinks:{thumbnail:e.imageLinks.thumbnail}}:e})})}},a.updateBooks=function(e,t){var o={id:t.id,shelf:e.target.value,title:t.title,authors:t.authors,imageLinks:{thumbnail:t.imageLinks.thumbnail}};a.state.allBooks&&(a.setState({allBooks:a.state.allBooks.push(o)}),localStorage.setItem("books",JSON.stringify(a.state.allBooks)))},a}return Object(h.a)(t,e),Object(i.a)(t,[{key:"componentDidMount",value:function(){if(localStorage.getItem("books")){var e=localStorage.getItem("books");this.setState({allBooks:JSON.parse(e)})}}},{key:"componentDidUpdate",value:function(){localStorage.setItem("books",JSON.stringify(this.state.allBooks))}},{key:"render",value:function(){var e=this;return n.a.createElement("div",{className:"app"},n.a.createElement(m.c,null,n.a.createElement(m.a,{path:"/search",component:function(){return n.a.createElement(B,{pageType:"search",updateBooks:function(t,a){return e.updateBooks(t,a)},handleChange:function(t,a,o){return e.handleChange(t,a,o)}})}}),n.a.createElement(m.a,{exact:!0,path:"/",component:function(){return n.a.createElement(C,{pageType:"main",onDeleteBook:function(t,a){return e.onDeleteBook(a)},allBooks:e.state.allBooks,handleChange:function(t,a,o){return e.handleChange(t,a,o)}})}}),n.a.createElement(m.a,{component:d})))}}]),t}(n.a.Component);a(32);s.a.render(n.a.createElement(k.a,null,n.a.createElement(N,null)),document.getElementById("root"))}},[[20,2,1]]]);
//# sourceMappingURL=main.5a799ae6.chunk.js.map